<div
  class="form-container"
  [ngStyle]="{ 'background-image': 'url(/assets/images/matrixAzul.jpg)' }"
>
  <div class="form-wrapper">
    <h2>Crear Nuevo Producto</h2>
    <form (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="name">Nombre del Producto</label>
        <input type="text" id="name" name="name" [(ngModel)]="product.name" required />
      </div>

      <div class="form-group">
        <label for="description">Descripción</label>
        <textarea
          id="description"
          name="description"
          [(ngModel)]="product.description"
          required
          rows="4"
        ></textarea>
      </div>

      <div class="form-group">
        <label for="price">Precio (€)</label>
        <input
          type="number"
          id="price"
          name="price"
          [(ngModel)]="product.price"
          required
          step="0.01"
        />
      </div>

      <div class="form-group">
        <label for="stock">Stock</label>
        <input type="number" id="stock" name="stock" [(ngModel)]="product.stock" required />
      </div>

      <div class="form-group">
        <label for="category">Categoría</label>
        <div class="select-wrapper">
          <select id="category" name="category" [(ngModel)]="product.category" required>
            <option *ngIf="categories.length === 0" [ngValue]="null" disabled>
              Cargando categorías...
            </option>
            <option *ngIf="categories.length > 0" [ngValue]="null" disabled>
              -- Selecciona una categoría --
            </option>
            <option *ngFor="let cat of categories" [ngValue]="cat">
              {{ cat.name }}
            </option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label for="active">Estado del Producto</label>
        <div class="select-wrapper">
          <select id="active" name="active" [(ngModel)]="product.active" required>
            <option [ngValue]="true">Activo (Visible en tienda)</option>
            <option [ngValue]="false">Inactivo (Oculto)</option>
          </select>
        </div>
      </div>

      <div class="form-group file-upload-wrapper">
        <label for="photo" class="btn-file-upload">// Seleccionar Foto</label>
        <input type="file" id="photo" name="photo" (change)="onFileSelected($event)" />
        <div *ngIf="imagePreview" class="image-preview">
          <img [src]="imagePreview" alt="Previsualización" />
        </div>
      </div>

      <button type="submit">Crear Producto</button>

      <div class="cancel-link">
        <a routerLink="/profile/admin">Volver al Panel</a>
      </div>
    </form>
  </div>
</div>
